# SqlMiniDB
### -sqlë¬¸ ì‚¬ìš©í•´ì„œ MMORPGìš© ë°ì´í„°ë² ì´ìŠ¤ êµ¬í˜„í•˜ê³  ì§ˆì˜í•˜ê¸°






## discription

- MMORPGì˜ databaseë¥¼ ì‘ê²Œ êµ¬í˜„í•˜ì—¬ ê·¸ ì•ˆì—ì„œ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ mysqlë¡œ ì‘ì„±
- ìºë¦­í„° ìƒì„±, ê¸¸ë“œ ê°€ì…/íƒˆí‡´, Lev ë° ì „íˆ¬ë ¥ ìƒìŠ¹, ì¡°ê±´ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„ 
- DDL, DML, join, subquery, procedure, trigger ë“± ë³µí•© ê¸°ëŠ¥ ì‚¬ìš©
- ìˆœì°¨ì  ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰ì„ í†µí•œ ê²Œì„ ë°ì´í„° ìƒì„± ë° ìˆ˜ì •
- queryë¥¼ ì‘ì„±í•˜ë©° ëª…ë ¹ì–´ í•™ìŠµ ì˜ì˜



### example
> <MMORPG 'ì—”ì½”ì•„ì—°ëŒ€ê¸°'ì— ë“¤ì–´ì˜¤ì‹  ê±¸ í™˜ì˜í•©ë‹ˆë‹¤!>
> <ì´ë¦„, ì§ì—…(ì „ì‚¬/ê¶ìˆ˜/ë§ˆë²•ì‚¬/ì„±ì§ì/ì•”ì‚´ì íƒ1), ìºë¦­í„° ì„±ë³„(F/M), í”Œë ˆì´ì–´ idë¥¼ ì ì–´ ìºë¦­í„°ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”!>
ë‹¤ìŒ ë¬¸ì¥ì„ ì‚¬ìš©í•˜ì„¸ìš”: INSERT INTO player (id, job, sex, fid, create_date, last date) VALUES (, , , ,curdate(), curdate());...




ì£¼ì–´ì§„ ìƒí™©ê³¼ ì¡°ê±´ì— ë§ê²Œ SQLë¬¸ì„ ì‘ì„±í•©ë‹ˆë‹¤.

## Tech

- [DBeaver 22.0.5] - Editing sql conviniently
- [MySQL Workbench] - Testing sql query

## Files

- scenario_mysql.sql

```bash
ğŸ“¦ Databases
â””â”€ playdata
   â”œâ”€ Tables
   â”‚  â”œâ”€ guild
   â”‚  â””â”€ player
   â”œâ”€ Procedures
   â”‚  â”œâ”€ auto_charge
   â”‚  â”œâ”€ create_guild
   â”‚  â”œâ”€ find_friend
   â”‚  â”œâ”€ find_new_member
   â”‚  â”œâ”€ leaving_guild
   â”‚  â”œâ”€ level_up
   â”‚  â”œâ”€ purchase_item
   â”‚  â”œâ”€ pvp_matching
   â”‚  â””â”€ signing_up_guild
   â””â”€ Trigger
      â””â”€ player.new_player_event
```
Â©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)









## ì½”ë“œ ì˜ˆì œ

ì¶©ì „ í”„ë¡œì‹œì €: 
idë¥¼ ì…ë ¥ë°›ì•„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ 5000 cashì”© ì¶©ì „í•´ì£¼ëŠ” í”„ë¡œì‹œì €ë¥¼ ì‘ì„±í•´ ì£¼ì„¸ìš”. í”„ë¡œì‹œì €ë¥¼ ì‹œí–‰í•˜ë©´ ì „íˆ¬ë ¥(str)ì´ 5000/(í”Œë ˆì´ì–´ë ˆë²¨)*5)ë§Œí¼ ìƒìŠ¹í•©ë‹ˆë‹¤.

drop procedure autocharge;
delimiter //
create procedure autocharge (v_id VARCHAR(10))
begin
 update player set cash = cash+5000 where id = v_id;
 update player set str = str+5000/((player.lev)*5) where id = v_id;
end//
delimiter ;

## contributer
2022.06.07
**ë°•ì¬ë¯¼, ìœ ì˜ˆì§€, ìœ¤í™ì°¬**



## ì„¤ëª…
ì´ í”„ë¡œì íŠ¸ëŠ” MMORPGì˜ dbë¥¼ ì‘ê²Œ êµ¬í˜„í•˜ì—¬ ê·¸ ì•ˆì— í•„ìš”í•œ í…Œì´ë¸”ê³¼ ê¸°ëŠ¥ë“¤ì„ MySQLì„ í™œìš©í•´ êµ¬í˜„í•´ë³´ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## ëª©í‘œ
* MySQLì˜ DDLì„ í™œìš©í•´ í•„ìš”í•œ tableì„ ìƒì„±í•©ë‹ˆë‹¤.
* MySQLì˜ DML, TCLì„ í™œìš©í•´ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
* MySQLì˜ function, procedure, triggerë¥¼ í™œìš©í•´ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ êµ¬í˜„í•©ë‹ˆë‹¤


## Tech Stack
<img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white">
<img src="https://img.shields.io/badge/dbeaver-003B57?style=for-the-badge&logo=dbeaver&logoColor=white">

## Project Configuration
```bash
ğŸ“¦ Databases
â””â”€ playdata
   â”œâ”€ Tables
   â”‚  â”œâ”€ guild
   â”‚  â””â”€ player
   â”œâ”€ Procedures
   â”‚  â”œâ”€ auto_charge
   â”‚  â”œâ”€ create_guild
   â”‚  â”œâ”€ find_friend
   â”‚  â”œâ”€ find_new_member
   â”‚  â”œâ”€ leaving_guild
   â”‚  â”œâ”€ level_up
   â”‚  â”œâ”€ purchase_item
   â”‚  â”œâ”€ pvp_matching
   â”‚  â””â”€ signing_up_guild
   â””â”€ Trigger
      â””â”€ player.new_player_event
```
Â©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)

## Files
* scenarios_mysql.sql


### scenarios_mysql.sql
guild tableê³¼ player tableì„ ìƒì„±í•˜ë©°, dataë¥¼ ì‚½ì…í•˜ëŠ” insertë¬¸ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” guild tableê³¼ player tableì˜ ì˜ˆì‹œì…ë‹ˆë‹¤.

* guild table
```sql
-- ê¸¸ë“œ í…Œì´ë¸” ìƒì„±
CREATE TABLE guild(
-- column ì •ì˜
	gno		INT AUTO_INCREMENT,	-- ê¸¸ë“œ ë²ˆí˜¸, PK
	name		VARCHAR(10),		-- ê¸¸ë“œëª…
	tend		VARCHAR(10),		-- ì„±í–¥, ì „íˆ¬/ìƒí™œ/ì¹œëª©
	reg		VARCHAR(10),		-- í™œë™ ì§€ì—­, ë¶ë¶€/ì„œë¶€/ë™ë¶€/ë‚¨ë¶€/ì¤‘ì•™
	lev		SMALLINT,		-- LEVEL
	create_date	DATE,			-- ìƒì„± ì¼
-- pk ì •ì˜
	CONSTRAINT pk_gno_guild PRIMARY KEY (gno)
);
```

* player table
```sql
-- í”Œë ˆì´ì–´ í…Œì´ë¸” ìƒì„±
CREATE TABLE player(
-- column ì •ì˜
	id		VARCHAR(10),	-- í”Œë ˆì´ì–´ ìºë¦­í„° id, PK
	gno		INT,		-- ê¸¸ë“œ ë²ˆí˜¸, FK
	job 		VARCHAR(10),	-- ì§ì—…, ì „ì‚¬/ê¶ìˆ˜/ë§ˆë²•ì‚¬/ì„±ì§ì/ì•”ì‚´ì
	lev		SMALLINT,	-- LEVEL
	str		INT,		-- ì „íˆ¬ë ¥
	sex		VARCHAR(1),	-- ì„±ë²Œ(M, F)
	rid		VARCHAR(10),	-- ëŒ€í‘œ í”Œë ˆì–´ì´ ìºë¦­í„° id
	create_date	DATE,		-- ìºë¦­í„° ìƒì„± ì¼
	last_date	DATE,		-- ìµœê·¼ ì ‘ì†ì¼
	cash		int,		-- ëˆ„ì  ê²°ì œ ê¸ˆì•¡
-- pk, fk ì •ì˜
	CONSTRAINT pk_id_adventurer PRIMARY KEY (id),
	CONSTRAINT fk_gno_adventurer FOREIGN KEY (gno) REFERENCES guild(gno)
);
```


ì¶©ì „ í”„ë¡œì‹œì €: 
idë¥¼ ì…ë ¥ë°›ì•„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ 5000 cashì”© ì¶©ì „í•´ì£¼ëŠ” í”„ë¡œì‹œì €ë¥¼ ì‘ì„±í•´ ì£¼ì„¸ìš”. í”„ë¡œì‹œì €ë¥¼ ì‹œí–‰í•˜ë©´ ì „íˆ¬ë ¥(str)ì´ 5000/(í”Œë ˆì´ì–´ë ˆë²¨)*5)ë§Œí¼ ìƒìŠ¹í•©ë‹ˆë‹¤.
```sql


drop procedure autocharge;
delimiter //
create procedure autocharge (v_id VARCHAR(10))
begin
 update player set cash = cash+5000 where id = v_id;
 update player set str = str+5000/((player.lev)*5) where id = v_id;
end//
delimiter ;
```

```sql
-- Procedure ì‹¤í–‰
call autocharge('ìš©ì‚¬ì§±');
```


## Contributors
* ë°•ì¬ë¯¼
* ìœ¤í™ì°¬
* ìœ ì˜ˆì§€
